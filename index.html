<!DOCTYPE html>
<html>
<head>
  <style>
    /* Add styling for the dark background */
    body {
      background-color: #333;
      color: #fff;
      text-align: center;
    }
    /* Style for the code snippets */
    .code-snippet {
      background-color: #444;
      padding: 10px;
      margin-bottom: 20px;
      display: none;
      text-align: left;
    }
    /* Style for the "Show Code" buttons */
    .show-button {
      background-color: #555;
      color: #fff;
      padding: 5px 10px;
      border: none;
      cursor: pointer;
      margin-bottom: 10px;
    }
    /* Style for the "Copy Code" buttons */
    .copy-button {
      background-color: #555;
      color: #fff;
      padding: 10px 15px;
      border: none;
      cursor: pointer;
      float: right;
    }
  </style>
</head>
<body>

  <button class="show-button" onclick="showCode('code-snippet-1')">Set 1a</button>
  <button class="show-button" onclick="showCode('code-snippet-2')">1b</button>
  <button class="show-button" onclick="showCode('code-snippet-3')">Set 2a</button>
  <button class="show-button" onclick="showCode('code-snippet-4')">2b</button>
  <button class="show-button" onclick="showCode('code-snippet-5')">Set 3a</button>
  <button class="show-button" onclick="showCode('code-snippet-6')">3b</button>
  <button class="show-button" onclick="showCode('code-snippet-7')">Set 4a</button>
  <button class="show-button" onclick="showCode('code-snippet-8')">4b</button>

  <div class="code-snippet" id="code-snippet-1">
    <button class="copy-button" onclick="copyToClipboard('code-snippet-1')">Copy Code</button>\
    <div class="code-section" id="code-snippet-1-code">
      <pre>
        <code>
          #need to change
state_table <- data.frame(key=c("CA", "NY", "WA", "ON", "QU"),
                          name=c("California", "new York", "Washington", "Ontario", "Quebec"),
                          country=c("USA", "USA", "USA", "Canada", "Canada"))
month_table <- data.frame(key=1:12,
                          desc=c("Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"),
                          quarter=c("Q1","Q1","Q1","Q2","Q2","Q2","Q3","Q3","Q3","Q4","Q4","Q4"))
prod_table <- data.frame(key=c("Printer", "Tablet", "Laptop"), price=c(225, 570, 1120))
gen_sales <- function(no_of_recs) {
  loc <- sample(state_table$key, no_of_recs, replace=T, prob=c(2,2,1,1,1))
  time_month <- sample(month_table$key, no_of_recs, replace=T)
  time_year <- sample(c(2012, 2013), no_of_recs, replace=T)
  prod <- sample(prod_table$key, no_of_recs, replace=T, prob=c(1, 3, 2))
  unit <- sample(c(1,2), no_of_recs, replace=T, prob=c(10, 3))
  amount <- unit*prod_table[prod,]$price
  sales <- data.frame(month=time_month, year=time_year, loc=loc, prod=prod, unit=unit, amount=amount)
  sales <- sales[order(sales$year, sales$month),]
  row.names(sales) <- NULL
  return(sales)
} 
sales_fact <- gen_sales(500) 
head(sales_fact)
# Build up a cube
revenue_cube <- tapply(sales_fact$amount, sales_fact[,c("prod", "month", "year", "loc")], FUN=function(x){return(sum(x))})
revenue_cube
dimnames(revenue_cube)
#Slice
revenue_cube[, "1", "2012",]
revenue_cube["Tablet", "1", "2012",]
#Rollup
apply(revenue_cube, c("year", "prod"), FUN=function(x) {return(sum(x, na.rm=TRUE))})
      </code>
    </pre>
  </div>
</div>
  <div class="code-snippet" id="code-snippet-2">
    <button class="copy-button" onclick="copyToClipboard('code-snippet-2')">Copy Code</button>
    <pre>
      <code id="code-snippet-2">
Country,Age ,Salary
aus,23,1000
france,45,1000
nz,34,2000
ind,23,3000
ind,12,1000
france,34,2000
nz,54,3000
aus,24,4000

Paste the above data in notepad and save as dataset.csv and import dataset in R

And run this

dataset$Country = factor(dataset$Country, 
                         levels = c('aus','france','nz','ind'), 
                         labels = c(1.0, 2.0 , 3.0 ,4.0))
      </code>
    </pre>
  </div>

  <div class="code-snippet" id="code-snippet-3">
    <button class="copy-button" onclick="copyToClipboard('code-snippet-3')">Copy Code</button>
    <pre>
      <code id="code-snippet-3">
install.packages('tidyverse')
install.packages('caret')
install.packages('datarium')
library(tidyverse)
library(caret)
library(datarium)
data('marketing',package="datarium")
set.seed(125)
train_control=trainControl(method = 'cv',number=10)
model=train(sales~.,data=marketing,method='lm',trainControl=train_control)
print(model)
      </code>
    </pre>
  </div>
  <div class="code-snippet" id="code-snippet-4">
    <button class="copy-button" onclick="copyToClipboard('code-snippet-4')">Copy Code</button>
    <pre>
      <code id="code-snippet-4">
IQ <- rnorm(10, 30, 2)
IQ <- sort(IQ)
result <- c(0, 0, 0, 1, 0, 0, 0, 0, 0, 1)
df <- as.data.frame(cbind(IQ, result))
print(df)
</code>
</pre>
</div>

<div class="code-snippet" id="code-snippet-5">
  <button class="copy-button" onclick="copyToClipboard('code-snippet-5')">Copy Code</button>
  <pre>
    <code id="code-snippet-5">
install.packages("arules")
install.packages("arulesViz")
install.packages("RColorBrewer")
library(arules)
library(arulesViz)
library(RColorBrewer)
data("Groceries")
rules <- apriori(Groceries, parameter = list(supp=0.1, conf=0.1))
inspect(rules[1:5])
arules::itemFrequencyPlot(Groceries, topN=10, col=brewer.pal(3,'Pastel2'), 
                          main='Frequent Itemsets', type="relative", ylab="Support")
    </code>
  </pre>
</div>

<div class="code-snippet" id="code-snippet-6">
  <button class="copy-button" onclick="copyToClipboard('code-snippet-6')">Copy Code</button>
  <pre>
    <code id="code-snippet-6">
library(tm)
library(SnowballC)
text=readLines(file.choose())
corpus=Corpus(VectorSource(text))
corpus <- tm_map(corpus, removeNumbers)
corpus <- tm_map(corpus, removePunctuation)
corpus <- tm_map(corpus, removeWords, stopwords())
corpus <- tm_map(corpus, stemDocument)
corpus=tm_map(corpus,content_transformer(tolower))
text
sapply(corpus,as.character)

Document.txt
Cleaning123 the text data, the next#@ step is to count the occurrence of each word
    </code>
  </pre>
</div>

<div class="code-snippet" id="code-snippet-7">
  <button class="copy-button" onclick="copyToClipboard('code-snippet-7')">Copy Code</button>
  <pre>
    <code id="code-snippet-7">
#not executing

weather.csv
condition,temperature,wind
sunny,25,5
cloudy,18,2
rainy,15,7
sunny,30,4
cloudy,20,3
rainy,12,6

library(fuzzyjoin)
library(fuzzywuzzyR)
library(stringdist)
weather <- read.csv("weather.csv")
categories <- c("ok", "bad", "perfect")
weather$condition_match <- fuzzy_left_join(weather, categories, by = "condition", 
                                           match_fun = stringdist_inner, 
                                           max_dist = 2, 
                                           ignore_case = TRUE)$match
weather$condition_score <- fuzzy_left_join(weather, categories, by = "condition", 
                                           match_fun = stringdist_inner, 
                                           max_dist = 2, 
                                           ignore_case = TRUE)$score
event <- ifelse(weather$condition_match == "ok", "Outdoor event",
                ifelse(weather$condition_match == "bad", "Indoor event",
                       "Perfect weather, outdoor event"))
print(event)
    </code>
  </pre>
</div>

<div class="code-snippet" id="code-snippet-8">
  <button class="copy-button" onclick="copyToClipboard('code-snippet-8')">Copy Code</button>
  <pre>
    <code id="code-snippet-8">
distance_mat <- dist(mtcars, method = 'euclidean')
distance_mat
set.seed(240)  
Hierar_cl <- hclust(distance_mat, method = "average")
Hierar_cl
plot(Hierar_cl)
abline(h = 110, col = "green")
fit <- cutree(Hierar_cl, k = 3 )
fit
table(fit)
rect.hclust(Hierar_cl, k = 3, border = "green")
    </code>
  </pre>
</div>

  <script>
    function showCode(elementId) {
      // Get all the code snippets
      var codeSnippets = document.getElementsByClassName("code-snippet");

      // Loop through all the code snippets and hide them
      for (var i = 0; i < codeSnippets.length; i++) {
        codeSnippets[i].style.display = "none";
      }

      // Show the selected code snippet
      var selectedSnippet = document.getElementById(elementId);
      selectedSnippet.style.display = "block";
    }

    function copyToClipboard(elementId) {
      // Get the text from the code snippet
      var codeSnippet = document.getElementById(elementId);
      var text = codeSnippet.getElementsByTagName("code")[0].textContent;

      // Create a temporary textarea element for copying
      var temp = document.createElement("textarea");
      temp.value = text;
      document.body.appendChild(temp);
      temp.select();
      function displaySection(elementId, section) {
      // Get all the code, description and output sections
      var codeSections = document.getElementsByClassName("code-section");
      var descriptionSections = document.getElementsByClassName("description-section");
      var outputSections = document.getElementsByClassName("output-section");
      for (var i = 0;i < codeSections.length; i++) {
codeSections[i].style.display = "none";
descriptionSections[i].style.display = "none";
outputSections[i].style.display = "none";
}
  // Show the selected section
  var selectedSection = document.getElementById(elementId + "-" + section);
  selectedSection.style.display = "block";
}


      // Copy the text to the clipboard
      navigator.clipboard.writeText(temp.value)
        .then(() => {
            console.log('Code copied to clipboard');
            alert('Code copied to clipboard!')
        })
        .catch(err => {
            console.error('Failed to copy: ', err);
        });

      // Remove the temporary textarea
      document.body.removeChild(temp);
    }
  </script>
</body>
</html>
